---
layout: post
title: UTF-8里坑爹的BOM标记
category: f2e
---

*你有没有在使用php里include文件后，页面出现多余的空隙/空格，使得页面在浏览器显示各种异常。*

##BOM是什么？##

> BOM(Byte Order Mark)，是UTF编码方案里用于标识编码的标准标记，在UTF-16里本来是“FF FE”，变成UTF-8就成了“EF BB BF”。这个标记是可选的，因为UTF8字节没有顺序，所以它可以被用来检测一个字节流是否是UTF-8的编码。微软做这种检测，但有些软件或语言不做这种检测，而把它当作正常字符处理。也因为这是微软暗自所作的标记，所以.net里include文件时必须包含，不然就可能导致页面乱码。而到了php里include文件时，它就成了画蛇添足，一颗耗子屎搅了一锅汤。

**解决方法：**

1. 用Dreamweaver打开，查看页面属性/编码，看“包括Unicode签名BOM”前面是否有被勾选；
2. 用UltraEdit-32打开文件，切换到十六进制编辑模式，查看文件开头是否含有“EF BB BF”；
3. 用Windows的记事本打开，选择“另存为”，看文件的默认编码是UTF-8还是ANSI，如果是ANSI则不带
4. ......

